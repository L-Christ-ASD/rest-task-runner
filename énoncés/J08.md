# Jour 8 : Elasticsearch pour la surveillance

Vous allez installer et configurer Elasticsearch, un puissant moteur de recherche et d'analyse, pour surveiller l'infrastructure que vous avez mise en place. Vous apprendrez également à utiliser Kibana, une interface web, pour visualiser et analyser les logs collectés. Cette étape est cruciale pour assurer la sécurité et la performance continue de votre système.

## Objectifs pédagogiques

- **Appliquer** et configurer Elasticsearch pour le stockage et l'analyse des logs.
- **Comprendre** comment visualiser les données à l'aide de Kibana.
- **Appliquer** des pratiques de surveillance en temps réel pour détecter les anomalies et les erreurs dans le système.

## Etapes

1. **Installation d'Elasticsearch** :
   - Installez Elasticsearch sur votre machine ou serveur.
   - Configurez les paramètres de base (port, réseau, etc.) pour le faire fonctionner correctement dans votre environnement.
   - Modifier la configuration de Caddy pour servir Elasticsearch sur un sous-domaine dédié (par exemple, `http://elasticsearch.localhost`).

2. **Configuration de Kibana** :
   - Installez Kibana, l'interface de visualisation pour Elasticsearch.
   - Configurez Kibana pour qu'il se connecte à votre instance d'Elasticsearch et soit accessible via un navigateur web.

3. **Indexation et visualisation des logs** :
   - Configurez Elasticsearch pour indexer les logs générés par vos scripts ou directement par le système.
   - Créez des visualisations et des tableaux de bord dans Kibana pour afficher des statistiques sur les erreurs, les tentatives de connexion, et d'autres événements importants.

4. **Surveillance en temps réel** :
   - Mettez en place des alertes dans Kibana pour notifier les administrateurs en cas d'événements critiques (comme des erreurs fréquentes ou des connexions échouées).

## Bonus

- **Configurer des indices de temps** : Apprenez à configurer des indices basés sur le temps pour gérer efficacement les données de logs à long terme, en utilisant des politiques de rétention pour supprimer automatiquement les anciens logs.
- **Alertes avancées** : Explorez des intégrations avec des outils de notification (comme Slack ou Email) pour envoyer des alertes en temps réel lorsque des événements critiques sont détectés, améliorant ainsi la réactivité de l'équipe sur les incidents de production.
