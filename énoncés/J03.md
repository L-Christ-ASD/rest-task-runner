# Jour 3 : Automatisation des tâches

Vous allez apprendre à automatiser certaines tâches répétitives du système. Vous commencerez par créer un script pour obtenir la liste des utilisateurs et des groupes, puis vous mettrez en place une tâche planifiée qui met à jour quotidiennement un fichier contenant les informations sur les administrateurs du système (sudoers). Cette automatisation est essentielle pour garantir une gestion efficace des utilisateurs dans l'entreprise.

## Objectifs pédagogiques

- **Appliquer** un script bash pour récupérer des informations système (utilisateurs et groupes).
- **Comprendre** l'utilisation des tâches planifiées (cron) sous Linux.
- **Appliquer** les principes d'automatisation pour planifier un script qui met à jour quotidiennement les informations système.

## Etapes

1. **Création du script Bash** :
   - Écrivez un script qui génère une liste complète des utilisateurs et des groupes du système.
   - Le script devra afficher les informations au format suivant : `nom_utilisateur : groupe_principal, groupes_secondaires`.
   - Sauvegardez cette liste dans un fichier `~/analyses/user_groups.log`.

2. **Planification avec Cron** :
   - Configurez une tâche cron pour exécuter le script tous les matins à 6h00.
   - Le fichier `~/analyses/user_groups.log` doit être mis à jour automatiquement chaque jour avec les informations les plus récentes.

3. **Mise à jour du fichier sudoers** :
   - Modifiez votre script pour qu'il mette à jour un fichier `~/analyses/sudoers.backup` qui contiendra la liste des utilisateurs disposant de droits sudo.
   - Assurez-vous que les permissions sur ce fichier sont correctement configurées.

## Bonus

- **Journalisation** : Modifiez votre script pour qu’il enregistre les modifications dans un fichier journal. Configurez-le pour détecter à chaque fois qu’un nouvel utilisateur est ajouté ou retiré des droits sudo.
